---
title: '更新币种状态'
api: 'PUT https://dev-admin.beauty-666.com/api/v1/oms/exchange-rates/{id}/status'
description: '启用或停用币种，基准货币 CNY 不可停用'
---

更新指定币种的启用/停用状态。停用被业务使用的币种时会返回警告信息。

## 请求头

<ParamField header="Authorization" type="string" required>
  JWT Bearer token，格式：`Bearer YOUR_TOKEN`
</ParamField>

<ParamField header="Content-Type" type="string" required>
  `application/json`
</ParamField>

## 路径参数

<ParamField path="id" type="integer" required>
  币种 ID
</ParamField>

## 请求体

<ParamField body="status" type="integer" required>
  状态：
  - `0` - 停用
  - `1` - 启用
</ParamField>

## 响应

<ResponseField name="code" type="integer">
  响应状态码，0 表示成功，7 表示业务错误
</ResponseField>

<ResponseField name="data" type="object">
  可能包含警告信息

  <Expandable title="字段">
    <ResponseField name="warning" type="string">
      警告信息（当停用的币种被业务使用时返回）
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="msg" type="string">
  响应消息
</ResponseField>

<RequestExample>

```bash cURL
# 停用币种
curl -X PUT "https://dev-admin.beauty-666.com/api/v1/oms/exchange-rates/10/status" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"status": 0}'
```

```javascript JavaScript
const currencyId = 10;
const response = await fetch(
  `https://dev-admin.beauty-666.com/api/v1/oms/exchange-rates/${currencyId}/status`,
  {
    method: 'PUT',
    headers: {
      'Authorization': 'Bearer YOUR_TOKEN',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ status: 0 })
  }
);
const data = await response.json();

// 检查警告信息
if (data.data?.warning) {
  console.warn('警告:', data.data.warning);
}
```

```python Python
import requests

currency_id = 10
response = requests.put(
    f'https://dev-admin.beauty-666.com/api/v1/oms/exchange-rates/{currency_id}/status',
    headers={
        'Authorization': 'Bearer YOUR_TOKEN',
        'Content-Type': 'application/json'
    },
    json={'status': 0}  # 停用
)
data = response.json()
```

</RequestExample>

<ResponseExample>

```json 200 更新成功
{
  "code": 0,
  "data": {},
  "msg": "更新成功"
}
```

```json 200 更新成功（带警告）
{
  "code": 0,
  "data": {
    "warning": "币种 USDT 当前被钻石套餐和会员订阅业务使用，操作可能影响相关功能"
  },
  "msg": "成功"
}
```

```json 7 基准货币保护
{
  "code": 7,
  "data": {},
  "msg": "更新状态失败: 基准货币(CNY)不可停用"
}
```

```json 7 参数错误
{
  "code": 7,
  "data": {},
  "msg": "状态值只能是0或1"
}
```

</ResponseExample>

<Warning>
  **基准货币保护**

  CNY（人民币）是基准货币，不可停用。
</Warning>
